<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Regulatory Navigator - MVP</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">QDB</div>
        <div>
          <div style="font-weight:700">Regulatory Navigator</div>
          <div style="opacity:.8; font-size:12px">FinTech AI</div>
        </div>
      </div>
      <nav class="nav">
        <a href="#" data-page="dashboard" class="active">Dashboard</a>
        <a href="#" data-page="reports">Reports</a>
      </nav>
      <div style="margin-top:16px; font-size:12px; opacity:.85">Theme: QDB Purple / Magenta</div>
    </aside>
    <div class="main">
      <div class="header">
        <div class="header-title">QDB Regulatory Readiness Evaluator</div>
        <div style="display: flex; align-items: center; gap: 12px;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <label for="countrySelect" style="font-size: 14px; font-weight: 600; color: #333;">Country:</label>
            <select id="countrySelect" class="country-select">
              <option value="qatar" selected>ðŸ‡¶ðŸ‡¦ Qatar</option>
              <option value="uae">ðŸ‡¦ðŸ‡ª UAE</option>
              <option value="saudi">ðŸ‡¸ðŸ‡¦ Saudi Arabia</option>
            </select>
          </div>
          <button class="btn btn-ghost" id="downloadPdfBtn">Download PDF</button>
          <button class="btn btn-primary" id="runBtnTop">Analyze Text</button>
        </div>
      </div>
      <div class="content">

        <!-- Dashboard Section -->
        <section id="page-dashboard" class="section active">
          <div class="cards" style="margin-bottom:16px">
            <div class="card">
              <h3>Readiness Score</h3>
              <div class="score-wrap">
                <div id="score">â€”</div>
                <div class="score-bar" aria-hidden>
                  <div id="scoreFill" class="score-fill"></div>
                </div>
              </div>
            </div>
            <div class="card">
              <h3>Failed Checks</h3>
              <div id="failedChecks" style="font-size:28px; font-weight:700">â€”</div>
            </div>
            <div class="card">
              <h3>Passed Checks</h3>
              <div id="passedChecks" style="font-size:28px; font-weight:700">â€”</div>
            </div>
          </div>

          <div class="advisory"><strong>Advisory:</strong> This tool provides automated, heuristic-based guidance for demonstration purposes only. It is not a substitute for formal legal or regulatory advice. Please consult a qualified compliance expert before regulatory submissions.</div>

          <div class="card" style="margin-top:16px">
            <h3>Analyze Startup Documents</h3>
            <p>Paste the startup documents (or a summary) below or upload files.</p>
            <textarea id="docsInput" rows="8" placeholder="Paste combined startup documents here (business plan, AoA excerpts, AML policy, data residency statements, etc.)"></textarea>
            <div style="margin-top:10px">
              <button class="btn btn-ghost" id="loadSampleBtn">Load Sample Text</button>
              <button class="btn btn-primary" id="runBtn">Analyze Text</button>
              <label style="margin-left:8px; display:inline-block">
                <input type="file" id="fileInput" multiple accept=".pdf,.docx,.txt" style="display:none" />
                <span id="fileInputLabel" class="btn btn-ghost">Choose Filesâ€¦</span>
              </label>
              <button class="btn" id="runFilesBtn">Analyze Files</button>
              <span id="status" style="margin-left:12px"></span>
            </div>
          </div>

          <div style="margin-top:16px" class="cards">
            <div class="card" style="grid-column:1/-1">
              <h3>Score Breakdown</h3>
              <table id="breakdown">
                <thead>
                  <tr><th>Check</th><th>Status</th><th>Weight (%)</th><th>Score Contribution</th></tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="card" style="grid-column:1/-1">
              <h3>Recommendations</h3>
              <div id="recs" class="recs"><em>No recommendations yet.</em></div>
            </div>
          </div>
        </section>

        <!-- Reports Section -->
        <section id="page-reports" class="section">
          <div class="card">
            <h3>Export</h3>
            <p>Generate a PDF report with your latest score and recommendations.</p>
            <button class="btn btn-primary" id="downloadPdfBtn2">Download PDF report</button>
          </div>
        </section>

      </div>
    </div>
  </div>

  <!-- Regulation Modal -->
  <div id="modalRoot" style="display:none">
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal" role="dialog" aria-modal="true">
        <button id="modalClose" style="float:right">Close</button>
        <h3 id="modalTitle">Article</h3>
        <pre id="modalBody"></pre>
      </div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>